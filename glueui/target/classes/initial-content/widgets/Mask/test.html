<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<title>Glue</title>
		
		<script type="text/javascript">
			var dojoConfig = {
				parseOnLoad: true, 
				packages:[
					{
						name: "widgets",
						location: "/widgets"
					},
					{
						name:"spolo",
						location:"/script/spolo"
					}
					
				]
			};
		</script>
		<script type="text/javascript" src="/libs/dojo/dojo.js"></script>
		<script type="text/javascript" src="/libs/dijit/dijit.js"></script>
		<script type="text/javascript" src="/libs/sling/explorer/js/jquery-1.4.2.min.js"></script>
		<link rel="stylesheet" href="/libs/dijit/themes/claro/claro.css" media="screen">
		<link rel="stylesheet" href="css/main.css" media="screen">
		<style type="text/css">
			html,body{
				height:100%;
				padding:0px;
				margin:0px;
			}
			#testContainer{
				background:#fff;
				height:100%;
				width: 100%;
			}
		</style>
	</head>
	
	<body class="claro">		
		<div id="testContainer">
			<div class="maskTemplate">
				<div class="maskBtn" >打开遮罩</div>
			</div>
		</div>
		<script>
			require(
				[
					"widgets/Mask/Mask",
					"dojo/on",
					"dojo/query"
				],
				function(Mask, on, query){
					//启动遮罩层
					query(".maskBtn").on("click",function(){
						Mask.show();
						// 测试添加log项
						setInterval(function(){
							Mask.appendLogItem("测试");
							Mask.appendLogItem("test");
						},2000);
						
						// 测试清空log窗口
						setInterval(function(){
							Mask.ClearLogItem();
							
							/**
							*关于message方法的使用，多参数适应，防止出错。
							*该方法可自定义消息框。
							*注意：遮罩层的关闭按钮只有在传递布尔值参数时才会出现，代表成功与失败。而将message方法用于处理过程则不会存在关闭按钮。
							*/
							//Mask.message();     				// 未知状态，错误用法，必须传递参数
							//Mask.message("自定义状态");		// 字符可由使用者给定，Mask显示正在加载图标 
							//Mask.message(true);				// 处理完成，显示完成图标
							//Mask.message(false);				// 处理失败
							Mask.message(":) 处理成功啦！",true);	// 字符可由使用者给定，显示完成图标
							//Mask.message("自定义状态",false);	// 字符可由使用者给定，显示失败图标
							//Mask.message(true,"自定义状态");		// 字符可由使用者给定，显示失败图标
							//Mask.message(false,"自定义状态");	// 字符可由使用者给定，显示失败图标
						},5000);
					});
					
					//隐藏遮罩层
					//Mask.hide();
				});
		</script>
	</body>
	
</html>
