<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>
           当前版本下载
        </title>

		<script type="text/javascript" >
			dojoConfig = {
				parseOnLoad: true, 
				packages: [
					{
						name: "spolo",
						location: "/script/spolo"
					},
					{
						name: "scenedetail",
						location: "/modules/scenedetail"
					},
					{
						name: "widgets",
						location: "/widgets"
					}
				]
			};
		</script>
		
        <script type="text/javascript" src="/libs/dojo/dojo.js"></script>
        <script type="text/javascript" src="/libs/dijit/dijit.js"></script>
		<script type="text/javascript" src="/system/sling.js"></script> 
		<script type="text/javascript" src="/script/spolo.js"></script> 
		<script type="text/javascript" src="/libs/sling/explorer/js/jquery-1.4.2.min.js"></script>
		<link rel="stylesheet" href="/libs/dijit/themes/claro/claro.css"  media="screen"/>			
		<style type="text/css">
			html,body{
				padding:0px;
				margin:0px;
				width:100%;
				height:100%;
				overflow:hidden;
		}
		</style>
		
    </head>
    
    <body class="claro">
		<div data-dojo-type="dijit.layout.BorderContainer" style="height:100%;" gutters="false">
			<div data-dojo-type="dijit.layout.ContentPane" region="center" style="height:60px;width:100%;">
				<div style="width:100%;border-bottom:1px solid grey;">
					<span>模 型 为:</span>
					<span id="modelpath"></span>
				</div>
				<div style="width:100%;border-bottom:1px solid grey;margin-top:10px;">
					<span>版本号为:</span>
					<span id="modelversionNum"></span>
				</div>
				<div  style="width:100%;border-bottom:1px solid grey;margin-top:10px;">
					<input type="radio" name="face_state" id="radioOcs"   value="false" style="float:left;"/> <label for="radioOcs" style="float:left;">ocs</label> 
					<input type="radio" name="face_state" id="radioObj"   value="false" style="float:left;margin-left:20px;"/> <label for="radioObj" style="float:left;">obj</label> 
					<input type="radio" name="face_state" id="radioBlend"  checked value="false" style="float:left;margin-left:20px;"/> <label for="radioBlend">blend</label> 
				</div>
				<div  style="width:100%;margin-top:10px;">
					<input type="button"  style="width:50px; height:25px;" value="下载" id="download"/>			
				</div>
			</div>			
		</div>
	<script type="text/javascript">
		require(
			[
				"dojo/ready","dojo/dom", "dojo/on","dijit/layout/BorderContainer","dijit/layout/ContentPane"
			],function(
				ready, dom,on,BorderContainer,ContentPane
			){
				ready(function(){
					var data = Spolo.getDialogData();
					var modelpath = data["modelpath"];					
					var modelversionNum = data["versionNum"];
					dom.byId("modelpath").innerHTML="";
					dom.byId("modelversionNum").innerHTML="";
					dom.byId("modelpath").innerHTML=modelpath;
					dom.byId("modelversionNum").innerHTML=modelversionNum;					
					var downloadType = "blend";					
					on(dom.byId("download"),"click",function(){							
						if(dom.byId("radioOcs").checked){
							downloadType = "ocs";
						}
						if(dom.byId("radioObj").checked){
							downloadType = "obj";
						}
						if(dom.byId("radioBlend").checked){
							downloadType = "blend";
						}
						var args = {"modelpath":modelpath,"downloadType":downloadType,"modelversionNum":modelversionNum};
						Spolo.dialogEmit("modeldownloadparam",args);				
						Spolo.dialogHide();
					});
				});
			}
		);
	</script>	
    </body>
</html>