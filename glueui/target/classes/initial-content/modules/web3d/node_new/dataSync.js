/** *  This file is part of the spp(Superpolo Platform). *  Copyright (C) by SanPolo Co.Ltd. *  All rights reserved. * *  See http://www.spolo.org/ for more information. * *  SanPolo Co.Ltd *  http://www.spolo.org/ *  Any copyright issues, please contact: copr@spolo.org**//**	dataSync 处理数据同步	* 没有对接前，dataSync 存储到 Spolo 中	* 对接后，将数据同步到数据库中	* dataSync 提供一些基础的方法，提供给其他的node进行调用	* dataSync 属于基础node，基础node通常提供给其他node进行调用*/define("web3d/node_new/dataSync",["dojo/topic"],function(topic){		/**		data_json:		* camera_locked 摄像机操作是否锁定		* camera_transMat 摄像机位置矩阵		* camrea_rotMat 摄像机朝向矩阵		* last_matrix 记录上一次摄像机的位置矩阵	*/	var camera_data_json = {		camera_locked : false,		camera_transMat : x3dom.fields.SFMatrix4f.identity(),		camrea_rotMat : x3dom.fields.SFMatrix4f.identity(),		last_matrix : x3dom.fields.SFMatrix4f.identity(),		cameraAssisPoint : null,		current_rotmat : x3dom.fields.Quaternion.parseAxisAngle("0 1 0 0").toMatrix()	}		var dataSync = dojo.declare([],{			constructor : function(x3d){					},				update_camera_data : function(json){			camera_data_json.camera_locked = json.camera_locked;			camera_data_json.camera_transMat = json.camera_transMat;			camera_data_json.camrea_rotMat = json.camrea_rotMat;			camera_data_json.last_matrix = json.last_matrix;			camera_data_json.cameraAssisPoint = json.cameraAssisPoint;			camera_data_json.current_rotmat = json.current_rotmat;		},		get_camera_data : function(){			return camera_data_json;		},					unload : function(){					}			});			return dataSync;});