<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Widget Template</title>
        <!-- 禁止使用 dojo css 样式 -->
        <script type="text/javascript" >
			dojoConfig = {packages: [
                    {
						name: "modules",
						location: "/modules"
					},
					{
						name: "spolo",
						location: "/script/spolo"
					},
                    {
						name: "widgets",
						location: "/widgets"
					}]};
		</script>
		<script type="text/javascript" src="/libs/dojo/dojo.js"></script>
		<script type="text/javascript" src="/libs/jquery/jquery.js"></script>
		<style>
		div{
			float:left;
			position:relative;
		}
		</style>
    </head>
	
    <body>
		<div >
				<div id="widget_placeAt0" >1</div>
				<div id="widget_placeAt1" >2</div>
		</div>
 
    </body>
	       <script type="text/javascript" >
            //  注意：需要引入正确的Widgert
            require([
				"dojo/ready","dojo/on","widgets/ImgItem/main"
				], function(ready,on,ImgItem){
             
                ready(function(){
					
					var json = {
						url:"http://devvm.spolo.org/widgets/WaterFall/img/shishi.jpg",
						Author:"匿名",				
						Date:"2013/7/19",
						Person:"什么意思?"
					};
				for(var i = 0;i < 2;i++){

				   var wt = new ImgItem(json);
                   wt.placeAt("widget_placeAt"+i.toString());
				   wt.init();
				   //获取下载按钮的点击事件
				   on(wt,"onClickOfPreview",function(data){
						console.log("预览图片的路径："+data);
				   });				   
				   
				   on(wt,"onClickOfDown",function(data){
						console.log("下载图片的路径："+data);
				   });
				   
				   
				}
				});
                
			});
            
        </script>
</html>