<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<title>Glue</title>		
		<script type="text/javascript">
			var dojoConfig = {
				parseOnLoad: true, 
				packages:[
					{
						name: "widgets",
						location: "/widgets"
					}
				]
			};
		</script>
		<script type="text/javascript" src="/libs/dojo/dojo.js"></script>
		<script type="text/javascript" src="/libs/dijit/dijit.js"></script>
		<link rel="stylesheet" href="/libs/dijit/themes/claro/claro.css" media="screen">
		<link rel="stylesheet" href="../JobListItem/css/main.css" media="screen">
		<style type="text/css">
			html,body{
				height:100%;
			}
		</style>
	</head>	
	<body class="claro">
		<button id="updateIcon">更改图标</button>
		<div id="testContainer"></div>
		<script>			
require(["widgets/JobListItem/JobListItem",
		 "dojo/on",
		 "dojo/dom"],
	function(JobListItem,on,dom){
				var o = new Object();
				o.start= function(){
					alert(" It is start");
				};
				o.stop= function(){
					alert(" She is stop");
				};
				o.progress= function(){
					alert(" He is progress");
				};				
				var json = {
					"id": Math.random()*10,
					"render":"",
					"referModel":"/content/users/admin/scenelib/scene2013151255241512799224/model/j6964",
					"name":"shafa1_1",
					"rotation_axis_angle":["0.0","0.0","1.0","0.0"],
					"scale":["1.0","1.0","1.0"],
					"location":["0.0","0.0","0.0"],
					"type":"MESH",
					"img":"image/nopreview.jpg",
					"canModify":false
				};
				var jso={
				         "队列":44,
						 "渲染器类型":'octane',
						  "天上一鹅":"大鹅",
						 "嘴里有鱼":'活的',
						  "鱼哭 了":"恨啊",
						 "无心":'哪呢',
						  "吃了":"早说啊",
						 "f":'octane'
						};
				var widget = new JobListItem(json).placeAt("testContainer");
				//widget.setJobInfo(jso);
				widget.setRender(new Object());
				on(dom.byId("updateIcon"),"click",function(msg){
					var path = "/tmp/local_temp/test.png";
					widget.updateIcon(path);
				});

			});
			
		</script>
	</body>
	
</html>
