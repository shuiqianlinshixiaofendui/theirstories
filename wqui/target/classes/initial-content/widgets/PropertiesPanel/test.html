<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<title>Glue</title>
		
		<script type="text/javascript">
			var dojoConfig = {
				parseOnLoad: true, 
				packages:[
					{
						name: "widgets",
						location: "/widgets"
					}
				]
			};
		</script>
		<script type="text/javascript" src="/libs/dojo/dojo.js"></script>
		<script type="text/javascript" src="/libs/dijit/dijit.js"></script>
		<link rel="stylesheet" href="/libs/dijit/themes/claro/claro.css" media="screen">
		<link rel="stylesheet" href="css/main.css" media="screen">
		<style type="text/css">
			html,body{
				height:100%;
			}
		</style>
	</head>
	
	<body class="claro">
		<div id="testContainer"></div>
		<script>
			
			require(["widgets/PropertiesPanel/PropertiesPanel","dojo/on","dojo/domReady!"],function(PropertiesPanel,on){
			var json = [{"exp": "5000","type": "metal","kr": "0.5 0.5 0.5",	"normaltex": "1.0",	"bumptex": "1.0","emission": "0.0 0.0 0.0"},
						{"type":"mirror","kr" :"1.0 1.0 1.0", "normaltex": "1.0","bumptex": "1.0", "emission": "0.0 0.0 0.0"},
						{"type":"colorpanel"},
						{"type":"null"}
						];			
				var widget = new PropertiesPanel(json).placeAt("testContainer");	
				widget.initCreateItem();	
				widget.setDefaultSelected("mirror");
				widget.setSelectedClient("mirror");
				on(widget,"send/metalKr",function(val){
					console.log("send currentItem : ",val);
				});
				on(widget,"send/metalNormaltex",function(val){
					console.log("send metalNormaltex : ",val);
				});
				on(widget,"send/metalBumptex",function(val){
					console.log("send metalBumptex : ",val);
				});
				on(widget,"send/metalEmission",function(val){
					console.log("send metalEmission : ",val);
				});
				on(widget,"send/exp",function(val){
					console.log("send metalEmission : ",val);
				});
			});
			
		</script>
	</body>
	
</html>
