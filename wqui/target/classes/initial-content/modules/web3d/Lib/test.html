<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>syncLib test</title>
		<script>
			dojoConfig = {
				isDebug: true,
				packages: [
					{
						name: "web3d",
						location: "/modules/web3d"
					},
					{
						name: "spolo",
						location: "/script/spolo"
					}
				],
			};
		</script> 
		<script type="text/javascript" src="/libs/x3dom/x3dom.js"></script> 
		<script src="/libs/dojo/dojo.js"></script> 
	</head>
	<body>
		<script>
			require(["web3d/Lib/syncLib"], function(syncLib){
				
				var sy = new syncLib();
				
				
				/**
                    updateItem ：更新节点
                **/
                /*
                sy.updateItem("shafa1_1_TRANSFORM",function(item){
                    item.data.location[0] = 10;                  // 更新location
                    item.data.location[1] = 10;
                    item.data.location[2] = 10;
                    item.data.rotation_axis_angle[0] = 1;       // 更新rotation_axis_angle
                    item.data.rotation_axis_angle[1] = 1;
                    item.data.rotation_axis_angle[2] = 1;
                    item.data.rotation_axis_angle[3] = 1;
                    item.data.scale[0] = 1;                     // 更新scale
                    item.data.scale[1] = 1;
                    item.data.scale[2] = 1;
                });
                */
				/**
				 * isFinish : 判断同步是否更新完成 
                  数据同步完成后提示  未完成返回1，反之，返回0。
				 */
                
				/*var isFinish = sy.isFinish(function (){
					//console.log("*********** 已完成数据同步 ****************");
				});
				console.log("isFinish : " + isFinish);
                */
				
				/**
				  breakOff : 强制中止数据同步
				 */
				
				/*setTimeout(function(){
					sy.breakOff();
				}, 3000);*/
				
				/**
                    getItemsByType :  查找指定类型节点
                **/
				
				/*sy.getItemsByType("MESH",function(items){
					for(var i=0;i<items.length;i++){
						console.log(items[i]);
					}
				});*/
				/** 
                getItemByName : 查找指定def名称的Transform
                **/
				
				/*sy.getItemByName("shafa1_1_TRANSFORM",function(item){
					console.log(item)
				});*/
				
				/**
                    创建节点
                **/
				/*var json = {
                    name : "test_TRANSFORM",        // Transform的Def
                    type : "MESH",                  // 创建MESH类型的节点
                    referModel : "/content/modellib/model2013224163623175859743",   // 公共模型库中的模型url
                    location:[1, 1 , 1],
                    rotation_axis_angle:[0 ,1 ,0 ,0],
                    scale:[1 ,1 ,1]
                };
				sy.createItem(json, function(){ 
                    alert("添加成功") ;
                });
                */
				
				/**
                    删除节点
                **/
				/*sy.deleteItem("test_TRANSFORM", function(){
                    alert("删除成功") ;
                 }) ;
                 */
                /**
                 * 获取摄像机列表
                 */
                /*
                sy.getCameras(function(cameras){
                    console.log(cameras);
                });
                */
                /*
                var json = {
                    name : "camera01",
                    orientation : [1, 1, 1, 1],
                    position : [1, 1, 1, 1],
                    fieldOfView : 1,
                    description : "11111"
                };
                sy.createItem(json);
                */
                /*
                var json = {
                    name : "camera01_111",
                    type : "CAMERA"
                };
                sy.createItem(json, function(){
                    console.log("create cameras ! ");
                });
                */
                /*
                sy.getCameras(function(cameras){
                    console.log(cameras);
                   
                });
                */
			});
			
	
		</script>
	</body>
</html>